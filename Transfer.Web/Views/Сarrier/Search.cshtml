@model Transfer.Web.Models.Carrier.СarrierSearchFilter

@using X.PagedList.Mvc.Core;
@using X.PagedList.Web.Common

@section Styles {
<link rel="stylesheet" href="~/css/Сarrier/Search.css" />
}

<div class="container">
    <div class="row blank-row"></div>
    <div class="row blank-row"></div>
    <div class="row">
        <div class="t-col col-12 crumbs">
            ---&nbsp;&nbsp;&nbsp;<a class="top-button-a" asp-controller="Home" asp-action="Index">Главная</a>&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;<a class="top-button-a" asp-controller="Carrier" asp-action="Search">Перевозчики</a>
        </div>
    </div>
    <div class="row blank-row"></div>
    <div class="row">
        <div class="t-col col-12 col-md-6 crb-avatar">
            Здравствуйте, @Security.CurrentAccount.FirstName @Security.CurrentAccount.LastName!
        </div>
        <div class="t-col col-12 col-md-6 text-end crb-location">
            <i class="fas fa-location-arrow"></i> Ваш регион: <span class="city">Александровск-Сахалинский</span>
        </div>
    </div>
    <div class="row blank-row"></div>
    <div class="row">
        <div class="t-col col-12">
            <h1 style="color: #0f4c71">Ваши перевозчики</h1>
        </div>
    </div>
    <div class="row blank-row"></div>
    <form id="CarrierSearch" asp-controller="Search" asp-action="Carrier" data-ajax="true" data-ajax-method="POST" data-ajax-update="#CarrierSearch">
        <div class="search-filter carrier-filter">
            <div class="container">
                <div class="row blank-row"></div>
                <div class="row blank-row"></div>
                <div class="row">
                    <div class="t-col col-11 col-md-5 form-group">
                        <div class="input-group input-group-icon">
                            <i class="fas fa-map-marker-alt input-group-text"></i>
                            <input asp-for="City" class="form-control" placeholder="В каком городе будем искать?" />
                        </div>
                    </div>
                    <div class="col-1 t-col">
                        <i class="far fa-question-circle fa-lg"></i>
                    </div>
                    <div class="t-col col-11 col-md-5 form-group">
                        <div class="input-group input-group-icon">
                            <i class="fas fa-map-marked input-group-text"></i>
                            <input asp-for="Name" class="form-control" placeholder="Как называется компания?" />
                        </div>
                    </div>
                    <div class="col-1 t-col">
                        <i class="far fa-question-circle fa-lg"></i>
                    </div>
                </div>
                <div class="row blank-row"></div>
                <div class="row">
                    <div class="text-center col-md-2 col-12 offset-md-10 t-col float-start">
                        <button type="submit" class="button-one">Найти</button>
                    </div>
                </div>
                <div class="row blank-row"></div>
                <div class="row blank-row"></div>
            </div>
        </div>
        <div class="row blank-row"></div>
        @Html.HiddenFor(x => x.PageNumber)
        <div class="row blank-row"></div>
        <div class="row ordering">
            <div class="t-col col-3">
                <i class="far fa-question-circle fa-lg"></i>
                Параметры сортировки запросов:
            </div>
            <div class="t-col col-6">
                @Html.CheckBoxFor(x => x.OrderByName, new { @class="btn-check", autocomplete="off" })
                <label class="btn btn-sm" for="OrderByName">
                    <i class="fas fa-caret-down"></i>
                    <i class="fas fa-sort-alpha-down"></i>
                </label>
                &nbsp;&nbsp;&nbsp;
                @Html.CheckBoxFor(x => x.OrderByRating, new { @class="btn-check", autocomplete="off" })
                <label class="btn btn-sm" for="OrderByRating">
                    <i class="fas fa-caret-down"></i>
                    <i class="fas fa-star"></i>
                </label>
                &nbsp;&nbsp;&nbsp;
                @Html.CheckBoxFor(x => x.OrderByChecked, new { @class="btn-check", autocomplete="off" })
                <label class="btn btn-sm" for="OrderByChecked">
                    <i class="fas fa-caret-down"></i>
                    <i class="fas fa-lock-open"></i>
                </label>
            </div>
            <div class="t-col col-2 text-end form-group">
                Выводить по:
            </div>
            <div class="t-col col-1 text-end form-group">
                @Html.DropDownListFor(x => x.PageSize, new List<SelectListItem> { new SelectListItem("5", "5"), new SelectListItem("10", "10"), new SelectListItem("25", "25") }, null, new { @class = "form-select form-select-sm" })
            </div>
        </div>
        <hr style="color: #007896; border: dashed 1px #007896;">
        <div class="row">
            <div class="t-col col-12 text-center">
            </div>
        </div>
        <div class="row">
            <div class="t-col col-12">
                <h4 style="color: #0f4c71">Даннах: @Model.TotalCount</h4>
            </div>
        </div>
        <div class="row">
            <div class="t-col col-12">
                @Html.PagedListPager(Model.Results, page =>
                {
                Model.Results = null;
                Model.PageNumber = page;
                return Url.Action("Search", "Carrier", Model);
                }, PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(
                new PagedListRenderOptions { DisplayItemSliceAndTotal = false, ItemSliceAndTotalFormat = "Всего записей: {2} ", },
                new AjaxOptions { HttpMethod = "POST", UpdateTargetId = "CarrierSearch", InsertionMode = InsertionMode.Replace }))

            </div>
        </div>
    </form>
</div>